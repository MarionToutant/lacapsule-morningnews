(this.webpackJsonpmorningnews=this.webpackJsonpmorningnews||[]).push([[0],{136:function(e,t,n){e.exports=n(222)},141:function(e,t,n){},222:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),o=n.n(c),i=(n(141),n(33)),l=n(17),s=(n(48),n(31)),u=n(61),m=n(64),p=n(20),d=n.n(p),f=n(29),h=n(16),g=n(228),b=n(40);var y=Object(s.b)(null,(function(e){return{addToken:function(t){e({type:"addToken",token:t})}}}))((function(e){var t=Object(a.useState)(""),n=Object(h.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),s=Object(h.a)(i,2),u=s[0],m=s[1],p=Object(a.useState)(""),y=Object(h.a)(p,2),E=y[0],v=y[1],j=Object(a.useState)(""),O=Object(h.a)(j,2),w=O[0],k=O[1],x=Object(a.useState)(""),S=Object(h.a)(x,2),L=S[0],C=S[1],T=Object(a.useState)(!1),F=Object(h.a)(T,2),N=F[0],I=F[1],A=Object(a.useState)([]),P=Object(h.a)(A,2),W=P[0],B=P[1],M=Object(a.useState)([]),D=Object(h.a)(M,2),z=D[0],J=D[1],H=function(){var t=Object(f.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/sign-up",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"usernameFromFront=".concat(c,"&emailFromFront=").concat(u,"&passwordFromFront=").concat(E)});case 2:return n=t.sent,t.next=5,n.json();case 5:!0===(a=t.sent).result?(e.addToken(a.token),I(!0)):J(a.error);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=function(){var t=Object(f.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/sign-in",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"emailFromFront=".concat(w,"&passwordFromFront=").concat(L)});case 2:return n=t.sent,t.next=5,n.json();case 5:!0===(a=t.sent).result?(e.addToken(a.token),I(!0)):B(a.error);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(N)return r.a.createElement(l.a,{to:"/screensource"});var q=W.map((function(e,t){return r.a.createElement("p",null,e)})),G=z.map((function(e,t){return r.a.createElement("p",null,e)}));return r.a.createElement("div",{className:"Login-page"},r.a.createElement("div",{className:"Sign"},r.a.createElement(g.a,{onChange:function(e){return k(e.target.value)},className:"Login-input",placeholder:"email"}),r.a.createElement(g.a.Password,{onChange:function(e){return C(e.target.value)},className:"Login-input",placeholder:"password"}),q,r.a.createElement(b.a,{onClick:function(){return $()},style:{width:"80px"},type:"primary"},"Sign-in")),r.a.createElement("div",{className:"Sign"},r.a.createElement(g.a,{onChange:function(e){return o(e.target.value)},className:"Login-input",placeholder:"username"}),r.a.createElement(g.a,{onChange:function(e){return m(e.target.value)},className:"Login-input",placeholder:"email"}),r.a.createElement(g.a.Password,{onChange:function(e){return v(e.target.value)},className:"Login-input",placeholder:"password"}),G,r.a.createElement(b.a,{onClick:function(){return H()},style:{width:"80px"},type:"primary"},"Sign-up")))})),E=n(226),v=n(9),j=n(229),O=n(227);var w=function(){return r.a.createElement("nav",null,r.a.createElement(O.a,{style:{textAlign:"center"},mode:"horizontal",theme:"dark"},r.a.createElement(O.a.Item,{key:"mail"},r.a.createElement(i.b,{to:"/screensource"},r.a.createElement(v.a,{type:"home"}),"Sources")),r.a.createElement(O.a.Item,{key:"test"},r.a.createElement(i.b,{to:"/screenmyarticles"},r.a.createElement(v.a,{type:"read"}),"My Articles")),r.a.createElement(O.a.Item,{key:"app"},r.a.createElement(i.b,{to:"/"},r.a.createElement(v.a,{type:"logout"}),"Logout"))))},k=E.a.Meta;var x=Object(s.b)((function(e){return{token:e.token}}),(function(e){return{addToWishList:function(t){e({type:"addArticle",articleLiked:t})}}}))((function(e){var t=Object(a.useState)([]),n=Object(h.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)([]),l=Object(h.a)(i,2),s=l[0],u=l[1],p=Object(a.useState)(!1),g=Object(h.a)(p,2),b=g[0],y=g[1],O=Object(a.useState)(""),x=Object(h.a)(O,2),S=x[0],L=x[1],C=Object(a.useState)(""),T=Object(h.a)(C,2),F=(T[0],T[1]);Object(a.useEffect)((function(){(function(){var t=Object(f.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/articles",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"sourcesFromFront=".concat(e.match.params.id)});case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,o(a);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var N=function(e){console.log(e),y(!1)},I=function(e){console.log(e),y(!1)},A=function(){var t=Object(f.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u([].concat(Object(m.a)(s),[{title:n.title,description:n.description,content:n.content,img:n.urlToImage}])),t.next=3,fetch("/wishlist-article",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"title=".concat(n.title,"&description=").concat(n.description,"&content=").concat(n.content,"&img=").concat(n.urlToImage,"&token=").concat(e.token)});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement("div",{className:"Banner"}),r.a.createElement("div",{className:"Card"},c.map((function(t,n){return r.a.createElement("div",{key:n,style:{display:"flex",justifyContent:"center"}},r.a.createElement(E.a,{style:{width:300,margin:"15px",display:"flex",flexDirection:"column",justifyContent:"space-between"},cover:r.a.createElement("img",{alt:"example",src:t.urlToImage}),actions:[r.a.createElement(v.a,{type:"read",key:"ellipsis2",onClick:function(){return function(e,t){y(!0),L(e),F(t)}(t.title,t.content)}}),r.a.createElement(v.a,{type:"like",key:"ellipsis",onClick:function(){e.addToWishList(t),A(t)}})]},r.a.createElement(k,{title:t.title,description:t.description})),r.a.createElement(j.a,{title:S,visible:b,onOk:N,onCancel:I},r.a.createElement("p",null,S)))}))))})),S=E.a.Meta;var L=Object(s.b)((function(e){return{myArticles:e.wishList}}),(function(e){return{deleteToWishList:function(t){e({type:"deleteArticle",title:t})}}}))((function(e){var t,n=Object(a.useState)(!1),c=Object(h.a)(n,2),o=c[0],i=c[1],l=Object(a.useState)(""),s=Object(h.a)(l,2),u=s[0],m=s[1],p=Object(a.useState)(""),g=Object(h.a)(p,2),b=(g[0],g[1]),y=Object(a.useState)([]),O=Object(h.a)(y,2),k=O[0],x=O[1],L=function(e){console.log(e),i(!1)},C=function(e){console.log(e),i(!1)};0===e.myArticles&&(t=r.a.createElement("div",{style:{marginTop:"30px"}},"No Articles")),Object(a.useEffect)((function(){function e(){return(e=Object(f.a)(d.a.mark((function e(){var t,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/wishlist-article");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.wishlist.map((function(e,t){return{title:e.title,description:e.description,content:e.content,img:e.img}})),x(a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var T=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(k.filter((function(e){return e.title!==t}))),e.next=3,fetch("/wishlist-article/".concat(t),{method:"DELETE"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement("div",{className:"Banner"}),t,r.a.createElement("div",{className:"Card"},k.map((function(t,n){return r.a.createElement("div",{key:n,style:{display:"flex",justifyContent:"center"}},r.a.createElement(E.a,{style:{width:300,margin:"15px",display:"flex",flexDirection:"column",justifyContent:"space-between"},cover:r.a.createElement("img",{alt:"example",src:t.img}),actions:[r.a.createElement(v.a,{type:"read",key:"ellipsis2",onClick:function(){return function(e,t){i(!0),m(e),b(t)}(t.title,t.content)}}),r.a.createElement(v.a,{type:"delete",key:"ellipsis",onClick:function(){e.deleteToWishList(t.title),T(t.title)}})]},r.a.createElement(S,{title:t.title,description:t.description})),r.a.createElement(j.a,{title:u,visible:o,onOk:L,onCancel:C},r.a.createElement("p",null,u)))}))))})),C=n(225),T=n(224);var F=Object(s.b)((function(e){return{selectedLang:e.selectedLang,token:e.token}}),(function(e){return{changeLang:function(t){e({type:"changeLang",selectedLang:t})}}}))((function(e){var t=Object(a.useState)([]),n=Object(h.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(e.selectedLang),s=Object(h.a)(l,2),u=s[0],m=s[1];return Object(a.useEffect)((function(){(function(){var t=Object(f.a)(d.a.mark((function t(){var n,a,r,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="fr",a="fr","en"===u&&(n="en",a="us"),e.changeLang(u),t.next=6,fetch("/source",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"langueFromFront=".concat(n,"&countryFromFront=").concat(a)});case 6:return r=t.sent,t.next=9,r.json();case 9:c=t.sent,o(c);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[u]),r.a.createElement("div",null,r.a.createElement(w,null),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"Banner"},r.a.createElement("img",{style:{width:"40px",margin:"10px",cursor:"pointer"},src:"/images/fr.png",onClick:function(){return m("fr")}}),r.a.createElement("img",{style:{width:"40px",margin:"10px",cursor:"pointer"},src:"/images/uk.png",onClick:function(){return m("en")}})),r.a.createElement("div",{className:"HomeThemes"},r.a.createElement(C.a,{itemLayout:"horizontal",dataSource:c,renderItem:function(e){return r.a.createElement(C.a.Item,null,r.a.createElement(C.a.Item.Meta,{avatar:r.a.createElement(T.a,{src:"/images/".concat(e.category,".png")}),title:r.a.createElement(i.b,{to:"/screenarticlesbysource/".concat(e.id)},e.name),description:e.description}))}})))})),N=Object(u.c)(Object(u.b)({wishList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if("addArticle"===t.type){for(var n=Object(m.a)(e),a=!1,r=0;r<n.length;r++)n[r].title===t.articleLiked.title&&(a=!0);return a||n.push(t.articleLiked),n}if("deleteArticle"===t.type){n=Object(m.a)(e);for(var c=null,o=0;o<n.length;o++)n[o].title===t.title&&(c=o);return null!=c&&n.splice(c,1),n}return e},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"addToken"===t.type?t.token:e},selectedLang:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"changeLang"===t.type?t.selectedLang:e}}));var I=function(){return r.a.createElement(s.a,{store:N},r.a.createElement(i.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{component:y,path:"/",exact:!0}),r.a.createElement(l.b,{component:F,path:"/screensource",exact:!0}),r.a.createElement(l.b,{component:x,path:"/screenarticlesbysource/:id",exact:!0}),r.a.createElement(l.b,{component:L,path:"/screenmyarticles",exact:!0}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.8b0451d1.chunk.js.map